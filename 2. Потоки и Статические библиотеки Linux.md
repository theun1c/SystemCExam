# 2 Билет
## Теория

**Актуальность синхронизации потоков**  **при параллельной обработке данных**  
Проблема:

При параллельном выполнении программ часто возникает ситуация, когда несколько потоков одновременно пытаются изменить одну и ту же область памяти. Это называется проблемой гонки данных (**data** **race**) и приводит к некорректному поведению программы.

Живой пример:

Представьте ситуацию, когда два потока параллельно выполняют операции увеличения одной и той же переменной:

1. Поток A читает значение переменной count = 10.
2. Поток B также читает значение count = 10.
3. Поток A увеличивает значение и записывает обратно: count = 11.
4. Поток B увеличивает своё прочитанное значение и тоже записывает обратно: count = 11.

Несмотря на две инкрементации, итоговое значение оказывается неверным (11 вместо ожидаемых 12). Эта проблема вызвана отсутствием согласованности операций чтения-записи между потоками.

Решение:

Использовать:
mutex, критические секции. 

Способы синхронизации

Для предотвращения гонок данных используются механизмы синхронизации:

1.       Mutex: Mutex — это примитив блокировки, позволяющий одному потоку временно заблокировать ресурс, пока он занят. Если второй поток попытается обратиться к этому ресурсу, он ожидает освобождения блокировки первым потоком.

2.       Критические секции: Критическая секция — специальная конструкция, обеспечивающая выполнение определенного участка кода только одним потоком в каждый момент времени.

Итог: Синхронизация необходима для предотвращения проблем конкуренции и обеспечения правильного функционирования многопоточности. Без должной синхронизации возможна утрата целостности данных, возникновение ошибок и непредсказуемое поведение программы.

## Практика
Создание статической библиотеки в Linux. Для демонстрации работы написать две элементарные функции в библиотеке и скомпилировать библиотеку вместе с основной программой.

Шаг 1. Для начала создадим пустую папку и в ней файл с любым названием. В моем случае файл (functions.c)

![Photo](assets/Pasted%20image%2020251225232545.png)

Шаг 2. Создадим файл main.c и запишем в нем следующий код. 

![Pasted image 20251225232729.png](assets/Pasted%20image%2020251225232729.png)

Шаг 3. Поочередно выполним следующие команды в консоли, находясь в папке проекта

```

gcc -c functions.c -o mylib.o
ar rcs staticlib.a mylib.o
gcc main.c staticlib.a -o myprog
./myprog

```

