# 20 Билет
## Теория 

**Указатель на функцию. Назначение и примеры использования.**

**Указатель на функцию** - это переменная, которая хранит адрес функции. Указатель содержит адрес первого байта в памяти, по которому располагается выполняемый код функции.

Особенности:
1. Позволяет передавать функции в качестве аргументов другим функциям.
2. Позволяет вызывать функции косвенно, что полезно для реализации функций обратного вызова и обработки событий.
3. Может указывать на разные функции с одинаковой сигнатурой (тип возвращаемого значения и список параметров).

Основные моменты:
1. Сигнатура: Указатель должен совпадать с сигнатурой функции.
2. Проверка указателя: Проверьте, что указатель не равен NULL перед вызовом.
3. typedef: Для упрощения объявлений можно использовать псевдонимы (typedef).

Пример:

![Photo](assets/Pasted%20image%2020251226073742.png)

## Практика 
Создание и настройка проекта WinAPI. Вывод сообщения в messagebox. Текст сообщения считывается из текстового файла в кодировке Юникод

Шаг 1. Следует написать следующий код в файле main.c 

``` C
#include <stdio.h>
#include <Windows.h>

int WINAPI WinMain() {
	wchar_t buffer[200];
	DWORD size = 0;
	HANDLE fileH;
	fileH = CreateFile(L"file.txt", GENERIC_READ, FILE_SHARE_READ, 0, OPEN_ALWAYS, FILE_ATTRIBUTE_NORMAL, 0);
	if (fileH != INVALID_HANDLE_VALUE) {
		int readFile = ReadFile(fileH, buffer, 200, &size, 0);
		int numChars = size / sizeof(wchar_t);
		buffer[numChars] = L'\0';
		MessageBox(0, buffer, L"Содержимое файла", 0);
	}
}
```

Шаг 2. Рядом в файлом main.c создайте файл file.txt и внесите в него текст. 