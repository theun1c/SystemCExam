# 22 Билет 
## Теория 
**Функции для работы с файлами WinAPI. Синхронный и асинхронный доступ к файлу.**

WinAPI (Windows Application Programming Interface) — это набор функций, структур и протоколов, предоставляемых операционной системой Windows для разработки приложений и взаимодействия с системой.

Основные функции WinAPI для работы с файлами:

1. CreateFile(): Служит для открытия существующего файла или создания нового. Возвращает дескриптор файла, который используется в дальнейшем для операций чтения и записи.

![Ph](assets/Pasted%20image%2020251226081008.png)

2. ReadFile():Осуществляет синхронное чтение данных из файла. Вызывающий поток блокируется до завершения операции.

![ph](assets/Pasted%20image%2020251226081052.png)

3. WriteFile():Производит синхронную запись данных в файл. Вызывающий поток также блокируется до завершения операции.

![p](assets/Pasted%20image%2020251226081134.png)

4. CloseHandle(hFile):Закрывает файл, освобождая дескриптор и ресурсы.

Синхронный и асинхронный доступ к файлам.

Синхронный доступ:
1. При синхронном доступе вызывающий поток блокируется до завершения операции ввода-вывода.
2. Главный недостаток: большие файлы или медленные устройства могут блокировать работу программы.

![p](assets/Pasted%20image%2020251226081310.png)

Асинхронный доступ:

1. Позволяет продолжить выполнение программы, пока идёт операция ввода-вывода.
2. Для асинхронного доступа используется структура OVERLAPPED и специальный флаг при открытии файла.
3. Особенность: операция возвращается немедленно, а результат приходит позднее (обычно через сигнал завершения или ожидание готовности).

![p](assets/Pasted%20image%2020251226081405.png)