# 16 Билет

## Теория

**Типы данных в ОС Windows. Назначение и использование системных диалоговых окон.**

В операционной системе Windows (Win32 API) определены различные типы данных, которые условно можно разделить на основные, дескрипторные, строковые и вспомогательные. Эти типы используются для определения возвращаемых значений функций, параметров функций и сообщений, а также элементов структур.

1. Основные типы данных:
	- BOOL: Булевый тип (TRUE или FALSE).
	- CHAR: 8-битный символ (символ ASCII).
	- BYTE: 8-битное беззнаковое целое число.
	- INT: 32-битное знаковое целое число.
	- UINT: 32-битное беззнаковое целое число.
	- LONG: 32-битное знаковое целое число.
	- DWORD: 32-битное беззнаковое целое число.
	- FLOAT: 32-битное число с плавающей точкой.
	- DOUBLE: 64-битное число с плавающей точкой.
2. Дескрипторные типы данных:
	- HANDLE: Универсальный дескриптор (идентификатор) объекта.
3. Строковые типы данных:
	- TCHATR: Универсальный символ (Unicode или ANSI, в зависимости от конфигурации).
	- LPCTSTR: Указатель на строку символов (Unicode или ANSI).
	- LPTSTR: Указатель на изменяемую строку символов.
	- LPCTSTR: Константный указатель на строку символов.
4. Вспомогательные типы данных:
	- VOID: Пустой тип данных (часто используется для указателей).
	- LPARAM/WPARAM: Параметры сообщений Windows (32/64-битные значения).
	- LRESULT: Результатом функции обработки сообщений (32/64-битное значение).
	- SIZE: Структура размера (ширина и высота).
	- MSG: Структура сообщения Windows.

## Практика
Использование системного буфера обмена для передачи строковых значений между процессами.

Шаг 1. Для выполнения задания следует ввести следующий код в main.c файл первого проекта Project1. Это код с установкой значения в буфер.

``` C
#include <Windows.h>
#include <stdio.h>
#include <stdlib.h>

int SetClipboard(LPWSTR buffer) {
	DWORD len = wcslen(buffer) * sizeof(LPWSTR);
	HANDLE h = GlobalAlloc(GMEM_MOVEABLE, len);
	memcpy(GlobalLock(h), buffer, len);
	GlobalUnlock(h);
	OpenClipboard(0);
	EmptyClipboard();
	SetClipboardData(CF_UNICODETEXT, h);
	CloseClipboard();
}

int main() {
	SetClipboard(L"helllo");
}
```

Шаг 2. Необходимо создать второй проект Project2 с main.c файлом, в котором будет записано следующее. Это файл получения данных из буфера.

``` C
#include <stdio.h>
#include <Windows.h>
#include <stdlib.h>

int GetClipboard() {
	OpenClipboard(0);
	LPWSTR buffer = GetClipboardData(CF_UNICODETEXT);
	CloseClipboard();
	MessageBox(0, buffer, L"title", 0);
}

int main() {
	GetClipboard();
}
```

Шаг 3. Поочередно, начиная с первого проекта нужно запустить программы. Тогда после запуска второй Project2 в всплывающем окне появится надпись.