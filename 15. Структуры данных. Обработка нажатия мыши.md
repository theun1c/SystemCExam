# 15 Билет
## Теория

**Структуры данных. Актуальность использования структур. Передача структуры как параметра.**

**Структура данных** — это средство объединения разнородных данных в единую сущность, называемую структурой. Это похоже на своеобразный контейнер, в котором можно группировать поля разного типа, имеющие отношение друг к другу.

Зачем нужны структуры?
1. Логическая целостность: Объединение взаимосвязанных данных в один объект упрощает работу с ними.
2. Упрощение кода: Упрощается передача группы данных между частями программы.
3. Четкая организация: Четче выражает смысл данных, улучшая читаемость и сопровождаемость кода.

Живой пример:

![Photo](assets/Pasted%20image%2020251226051444.png)


Типичные случаи использования структур:
1. Хранение данных о сотрудниках компании.
2. Информацию о товарах в магазине.
3. Профили пользователей социальной сети.
4. Координаты точек на карте.
## Практика
Обработка нажатия клавиши мыши в системе (выписать в messagebox какая клавиша нажата и сколько раз)

Шаг 1. Для данного задания необходимо вписать следующий код в файл main.c

``` C
#include <stdio.h>
#include <Windows.h>
#include <stdlib.h>

typedef struct {
	int leftClick;
	int rightClick;
	int centerClick;
} ClickMouse;

ClickMouse countClick;

void ShowCount(int count, LPWSTR clickKeyName) {
	char buf[200];
	swprintf(buf, 200, L"Key: %s\nPressed: %d\n", clickKeyName, count);
	MessageBox(NULL, buf, L"Warn", MB_OK);
}

LRESULT CALLBACK CountClicks(int n, WPARAM wParam, LPARAM lParam) {
	switch (wParam) {
	case WM_LBUTTONDOWN:
		countClick.leftClick++;
		ShowCount(countClick.leftClick++, L"Left button");
		break;
	case WM_RBUTTONDOWN:
		countClick.rightClick++;
		ShowCount(countClick.rightClick++, L"Right button");
		break;
	case WM_MBUTTONDOWN:
		countClick.centerClick++;
		ShowCount(countClick.centerClick++, L"Center button");
		break;
	default:
		break;
	}

	return CallNextHookEx(NULL, n, wParam, lParam);
}

int main() {
	HHOOK hook = SetWindowsHookEx(WH_MOUSE_LL, CountClicks, GetModuleHandle(NULL), 0);
	if (hook != NULL) {
		MSG msg;
		while (GetMessage(&msg, NULL, 0, 0)) {
			TranslateMessage(&msg);
			DispatchMessageW(&msg);
		}
		UnhookWindowsHookEx(hook);
	}
}
```