# 21 Билет

## Теория 

**Файл как тип данных. Использование файлов в работе программного обеспечения.**

Файл — это совокупность данных, хранимых на диске или другом носителе информации, представленная в виде упорядоченного потока байтов. В программировании файл рассматривается как источник или приёмник данных, доступ к которому осуществляется через функции операционной системы.

Основные этапы работы с файлами:

1. Открытие файла: Сначала файл нужно открыть, чтобы получить возможность читать или записывать данные. В C это делается с помощью функции fopen().
2. Чтение и запись: После открытия файла можно производить операции чтения или записи данных с помощью функций fread(), fwrite(), fprintf(), fscanf() и других.
3. Закрытие файла: После завершения работы с файлом его нужно закрыть, чтобы освободить ресурсы и зафиксировать внесённые изменения. Для этого используется функция fclose().


Особенности работы с файлами:
1. Режимы открытия: важно правильно выбрать режим работы с файлом, чтобы избежать потери данных.
2. Обработка ошибок: всегда проверяйте результат открытия файла и других операций.
3. Кодировка: при работе с текстовыми файлами убедитесь, что используете подходящую кодировку (UTF-8, UTF-16 и т.д.).

## Практика 

Программа с запуском стороннего процесса исполняемый файл стороннего процесса подготавливается заранее 

#### Для windows 

Создаём проектик, который печатает аргументы командной строки

``` C

int main(int argc, char* argv[]) {
	system("chcp 1251>nul");
	for (size_t i = 0; argv[i] != 0 ; i++)
	{
		printf("%s\n", argv[i]);
	}
	getchar();
}

```

Создаем второй проект, в который пишем следующее

``` C

#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <Windows.h>

// тут нужно поставить ссылку на скомпилированный exe файл первого проекта
#define PATH "D:/VS prodjects/Системка экзамен/4_bilet/x64/Debug/27_bilet.exe"

int main() {
	system("chcp 1251>nul");
	STARTUPINFO si; //это из файла всё
	PROCESS_INFORMATION pi;

	ZeroMemory(&si, sizeof(si));
	si.cb = sizeof(si); //это запомнить
	ZeroMemory(&pi, sizeof(pi));

	/*char* argv = calloc(sizeof(char), 100);
	sprintf(argv, "\"%s\"\0", "f, j,f");*/
	char argv[] = { "Каво блин"};
	//это логический понятно как писать
	if (!CreateProcessA(PATH, argv, 0, 0, 0, 0, 0, 0, &si, &pi)) {
		printf("Ошибка: %d", GetLastError());
		return 0;
	}
	WaitForSingleObject(pi.hProcess, INFINITE);
}
```

